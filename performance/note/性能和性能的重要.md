# 性能和性能的重要

## 写在开头的话

本人写的文章只是个人工作经验的免费分享，不代表本人供职公司的观点，不承担由此带来的任何责任。

我已经从事性能工具开发和性能分析14年了，我的工作一直是围绕 Power平台和主机，一直都是使用自己编写和公司内其他人编写的性能工具。但是，世界发展得很快，不得不抬起头来看看开源的世界和 Linux 的世界。

我会结合我的经验，把我的读书笔记和大家分享下，希望能够和各位一起讨论。

### 什么是性能？

下面是一个Wikipedia中关于电脑性能的定义：

```wiki
电脑性能一般会以电脑系统在指定时间和使用资源的条件下，所完成工作的数量来表示。

依上下文的不同，电脑性能的“良好”可能包括以下项目中的一项或几项：

- 快速的反应时间
- 高吞吐量（处理工作的速度）
- 资源的使用率。
- 电脑系统或应用程序的高可用性
- 快速（或高压缩率）的数据压缩及解压缩
- 高带宽或是快速的数据传输时间
- 电脑软件的性能，特别是应用软件的反应时间，是软件质量的内容之一，在人机交互中也很重要。
```

### 性能非常重要

在这个离不开手机的时代，性能对每个人的生活都很重要。

我们每天都在使用各种软硬件，哪怕你不是软硬件从业者，也对性能有着各种期望。

- 看视频的时候，我们希望带宽够大，看蓝光都不卡。
- 吃鸡（在线射击游戏）的时候，我们希望延时够短，枪枪爆头。
- 办公的时候，希望电脑运转飞快，秒速开机，流畅打开各种办公软件。

你绝对不能接受在便利店付款的时候，付款软件每点一步都卡个半分钟。



软硬件性能的好坏，决定了很多人很多公司的饭碗。

所以，

- 手机公司会发布新手机的跑分结果（其实服务器提供商也是一样）。
- 游戏公司会针对手机硬件做定制优化。
- 计算机公司会专门成立性能部门，对软硬件做调优。



### 性能对编程的你也非常重要

从我们迈入软件行业开始，性能的重要性就一再被强调。

在读书时，我们学习了大量的计算机专业课程，花了大量的时间去讨论怎么让我们计算机系统获得比较好的性能。

我们可以回忆一下大学四年中那些专业课，数据结构、离散数学、算法、计算机组成原理、数据库、网络、C/C++、Java等等，关于性能的讨论无处不在，就连软件工程都有讨论性能的章节（我能想到的唯一的例外是知识产权法）。这些性能方面的专业知识为计算机和软件专业的学生在从事编程工作时提供了核心竞争力。

而当我们去找工作时，大部分的公司在笔试和面试时都会考一考算法，问一问算法复杂度。能写出比别的竞争者时间复杂度更低、性能更好的程序是应征者获得一份工作的关键。

等到工作后，公司的领导和同事又会怎么评估你作为一个程序员的编程水平，怎么评估你的作品呢？

当然，我们需要考虑很多方面，比如代码的质量、可维护性等。这些都很重要，但是这些很多都是背后的功夫，不好衡量。唯有性能方面的成就是直接可以量化的。代码性能好不好，不用吹，跑一跑，领导和客户都能看到。

#### 软件性能的调优正变得越来越重要

过去的时代，处理器遵从着摩尔定律，指数式提升着硬件性能。硬件性能的高速提升，让管理者经常会挣扎在投资新硬件和投资软件性能优化的两难之间。但是这几年情况发生了变化。

Linus大神在2019年上海的kubenetes和Cloud Native大会上就表示：软件开发正变得越来越困难。"在过去，摩尔定律保证了硬件性能每18个月增加一倍。但是因为处理器供应商已经逼近了摩尔定律的极限，众多开发者将来必须通过调优软件来获得更高的性能。“

> “Torvalds said. Moore's Law has guaranteed a doubling of hardware performance every 18 months for decades. But as processor vendors approach the limits of Moore's Law, many developers will need to reoptimize their code to continue achieving increased performance. In many cases, that requirement will be a shock to many development teams that have counted on those performance improvements to make up for inefficient coding processes, he said.“

**这也意味着，在未来的十年里，软件性能分析的技能将变得越来越重要。**

与学习一门具体的编程语言，学习某个正在流行的框架不同的是，这些方法和原理在过去十年和未来十年都会一直有效，不会轻易被快速发展的技术潮流所轻易淘汰，保值性非常好。

它是计算机领域稀有的一门越老越值钱的技能，它能帮助你保持职业生涯中的技术竞争力。